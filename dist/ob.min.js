!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ob",e):t.ob=e()}(this,function(){"use strict";function t(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function e(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,configurable:!0,enumerable:!0})}function n(t){return J.call(t)===K}function i(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":N(t))}function o(t){return"function"==typeof t}function r(t,e){for(var n=Object.keys(t),i=0,o=n.length;i<o;i++)e(n[i],t[n[i]])}function u(){}function s(t){Object.setPrototypeOf(t,W)}function a(t,e){return t>=this.length&&(this.length=Number(t)+1),this.splice(t,1,e)[0]}function c(t){if(this.length){var e=this.indexOf(t);return e>-1?this.splice(e,1):void 0}}function f(e){this.value=e,this.dep=new C,t(e,F,this),H(e)?(s(e),this.observeArray(e)):this.walk(e)}function l(t){if(t&&"object"===("undefined"==typeof t?"undefined":N(t))){var e=void 0;return Object.prototype.hasOwnProperty.call(t,F)&&t[F]instanceof f?e=t[F]:(H(t)||n(t))&&Object.isExtensible(t)&&(e=new f(t)),e}}function h(t,n,i){function o(){var e=a?a.call(t):i;if(C.target&&(u.depend(),f&&f.dep.depend(),H(e)))for(var n,o=0,r=e.length;o<r;o++)n=e[o],n&&n[F]&&n[F].dep.depend();return e}function r(e){var n=a?a.call(t):i;e!==n&&(c?c.call(t,e):i=e,f=l(e),u.notify())}var u=new C,s=Object.getOwnPropertyDescriptor(t,n);if(!s||s.configurable!==!1){var a=s&&s.get,c=s&&s.set,f=l(i);e(t,n,o,r)}}function p(t){try{return new Function("scope","return "+t+";")}catch(e){L("Invalid expression. Generated function body: "+t)}}function d(t){return t=String.prototype.trim.call(t),p("scope."+t)}function v(){et=[],nt={},it=!1}function y(){b(et),v()}function b(t){for(ot=0;ot<t.length;ot++){var e=t[ot],n=e.id;nt[n]=null,e.run()}}function w(t){var e=t.id;null==nt[e]&&(nt[e]=et.length,et.push(t),it||(it=!0,rt(y)))}function g(t){var e=void 0,n=void 0;if(H(t))for(e=t.length;e--;)g(t[e]);else if(i(t))for(n=Object.keys(t),e=n.length;e--;)g(t[n[e]])}function m(t,e,n,i){var r=o(e)?e:d(e);return new st(t,r,n,i)}function k(t,e){var n=new st(t,e,null,{deep:O.deep,lazy:!0,sync:O.sync});return function(){return n.options.lazy&&C.target&&!C.target.options.lazy&&(n.options.lazy=!1,n.callback=function(){for(var t=n.deps,e=0,i=t.length;e<i;e++)t[e].notify()}),n.dirty&&n.evaluate(),C.target&&n.depend(),n.value}}function O(t,e,n,i){return t.hasOwnProperty(V)||_(t),O.default(t,e,n,i)}function j(t,e){return e?e.hasOwnProperty(V)||_(e):(e={},_(e)),t.methods&&I(e,t.methods),t.data&&x(e,t.data),t.computed&&A(e,t.computed),t.watchers&&G(e,t.watchers),e}function S(t,n,i,r){t.hasOwnProperty(V)||_(t);var s=void 0,a=void 0;o(i)?(s=r!==!1?k(t,i):i.bind(this),a=u):(s=i.get?i.cache!==!1||r!==!1?k(t,i.get):i.get.bind(this):u,a=i.set?i.set.bind(this):u),e(t,n,s,a)}function D(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:O;return t.hasOwnProperty(V)||_(t),m(t,e,n,i)}function _(e){t(e,V,[],!1),t(e,q,Object.create(null),!1),l(e[q]),z(e)}function I(t,e){r(e,function(e,n){t[e]=n.bind(t)})}function P(t,e,n){t[q][e]=n,h(t[q],e,n),E(t,e)}function x(t,e){r(e,function(e,n){return P(t,e,n)})}function z(t){r(t,function(e,n){!o(n)&&P(t,e,n)})}function A(t,e){r(e,function(e,n){return S(t,e,n)})}function G(t,e){r(e,function(e,n){o(n)?D(t,e,n):D(t,e,n.watcher,n)})}function E(t,n){function i(){return t[q][n]}function o(e){t[q][n]=e}e(t,n,i,o)}var N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,o){var s={key:t,arg:e,resolve:n,reject:o,next:null};u?u=u.next=s:(r=u=s,i(t,e))})}function i(n,r){try{var u=e[n](r),s=u.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):o(u.done?"return":"normal",u.value)}catch(t){o("throw",t)}}function o(t,e){switch(t){case"return":r.resolve({value:e,done:!0});break;case"throw":r.reject(e);break;default:r.resolve({value:e,done:!1})}r=r.next,r?i(r.key,r.arg):u=null}var r,u;this._invoke=n,"function"!=typeof e.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype.throw=function(t){return this._invoke("throw",t)},e.prototype.return=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),$=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),M=0,C=function(){function t(){T(this,t),this.id=M++,this.subs=[]}return $(t,[{key:"addSub",value:function(t){this.subs.push(t)}},{key:"removeSub",value:function(t){this.subs.$remove(t)}},{key:"depend",value:function(){t.target.addDep(this)}},{key:"notify",value:function(){for(var t=this.subs,e=0,n=t.length;e<n;e++)t[e].update()}}]),t}();C.target=null;var F="__ob__",V="__watchers__",q="__data__",B="undefined"!=typeof process&&"production"!==process.env.NODE_ENV,H=Array.isArray,J=Object.prototype.toString,K="[object Object]",L=B&&console&&o(console.warn)?console.warn:u,Q=void 0;"undefined"!=typeof Set&&Set.toString().match(/native code/)?Q=Set:(Q=function(){this.set=Object.create(null)},Q.prototype.has=function(t){return void 0!==this.set[t]},Q.prototype.add=function(t){this.set[t]=1},Q.prototype.clear=function(){this.set=Object.create(null)});for(var R,U=Array.prototype,W=Object.create(U),X=["push","pop","shift","unshift","splice","sort","reverse"],Y=function(e,n,i){var o=U[i];t(W,i,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=o.apply(this,e),u=this[F],s=void 0;switch(i){case"push":s=e;break;case"unshift":s=e;break;case"splice":s=e.slice(2)}return s&&u.observeArray(s),u.dep.notify(),r})},Z=0,tt=X.length;Z<tt;R=X[++Z])Y(Z,tt,R);t(U,"$set",a),t(U,"$remove",c),f.prototype.walk=function(t){var e=this;r(t,function(t,n){return e.convert(t,n)})},f.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)l(t[e])},f.prototype.convert=function(t,e){h(this.value,t,e)};var et=[],nt={},it=!1,ot=void 0,rt=function(){function t(){n=!1;var t=e.slice(0);e=[];for(var i=0;i<t.length;i++)t[i]()}var e=[],n=!1,i=void 0;if("undefined"!=typeof MutationObserver)!function(){var e=1,n=new MutationObserver(t),o=document.createTextNode(e);n.observe(o,{characterData:!0}),i=function(){e=(e+1)%2,o.data=e}}();else{var o="undefined"!=typeof window&&"[object Object]"!==Object.prototype.toString.call(window),r=o?window:"undefined"!=typeof global?global:{};i=r.setImmediate||setTimeout}return function(o,r){var u=r?function(){o.call(r)}:o;e.push(u),n||(n=!0,i(t,0))}}(),ut=0,st=function(){function t(e,n,i,o){T(this,t),e[V].push(this),this.owner=e,this.getter=n,this.callback=i,this.options=o,this.id=++ut,this.active=!0,this.dirty=o.lazy,this.deps=[],this.newDeps=[],this.depIds=new Q,this.newDepIds=new Q,this.value=o.lazy?void 0:this.get()}return $(t,[{key:"get",value:function(){this.beforeGet();var t=this.owner,e=this.getter.call(t,t);return this.options.deep&&g(e),this.afterGet(),e}},{key:"beforeGet",value:function(){C.target=this}},{key:"addDep",value:function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))}},{key:"afterGet",value:function(){C.target=null;for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0}},{key:"update",value:function(){this.options.lazy?this.dirty=!0:this.options.sync?this.run():w(this)}},{key:"run",value:function(){if(this.active){var t=this.get();if(t!==this.value||i(t)||this.options.deep){var e=this.value;this.value=t,this.callback.call(this.owner,t,e)}}}},{key:"evaluate",value:function(){var t=C.target;this.value=this.get(),this.dirty=!1,C.target=t}},{key:"depend",value:function(){for(var t=this.deps.length;t--;)this.deps[t].depend()}},{key:"teardown",value:function(){if(this.active){for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1,this.owner=this.callback=this.value=null}}}]),t}();return O.default=D,O.deep=O.lazy=O.sync=!1,Object.setPrototypeOf(O,{react:j,compute:S,watch:D}),O});
//# sourceMappingURL=ob.min.js.map
